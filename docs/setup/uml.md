# üìä Documentation UML - Brise-glace Interactif pour Cours de Programmation

## üéØ Vue d'ensemble du Projet

**Emoji Code Mood** est un brise-glace interactif con√ßu pour les cours de programmation. Il permet aux √©tudiants d'exprimer leur humeur du jour via du code personnalis√© tout en d√©couvrant diff√©rents langages de programmation et domaines technologiques.

---

## 1Ô∏è‚É£ Diagramme de Cas d'Utilisation - Fonctionnel

```mermaid
@startuml
!theme cerulean-outline

left to right direction

actor "üë®‚Äçüéì √âtudiant" as Student
actor "üë©‚Äçüè´ Enseignant" as Teacher
actor "üñ•Ô∏è Syst√®me" as System

package "Gestion des Humeurs" {
  usecase "Saisir pr√©nom" as UC1
  usecase "S√©lectionner humeur" as UC2
  usecase "Choisir langage" as UC3
  usecase "D√©finir int√©r√™t" as UC4
  usecase "Ajouter commentaire" as UC5
  usecase "G√©n√©rer code" as UC6
  usecase "Visualiser feed" as UC7
}

package "Administration" {
  usecase "Consulter tableau de bord" as UC8
  usecase "Analyser statistiques" as UC9
  usecase "Exporter donn√©es" as UC10
  usecase "Mod√©rer contenu" as UC11
  usecase "R√©initialiser session" as UC12
}

package "Traitement Automatique" {
  usecase "Valider donn√©es" as UC13
  usecase "Sauvegarder r√©ponses" as UC14
  usecase "Synchroniser temps r√©el" as UC15
  usecase "Calculer statistiques" as UC16
}

Student --> UC1
Student --> UC2
Student --> UC3
Student --> UC4
Student --> UC5
Student --> UC6
Student --> UC7

Teacher --> UC8
Teacher --> UC9
Teacher --> UC10
Teacher --> UC11
Teacher --> UC12

System --> UC13
System --> UC14
System --> UC15
System --> UC16

UC1 ..> UC6 : <<include>>
UC2 ..> UC6 : <<include>>
UC3 ..> UC6 : <<include>>
UC6 ..> UC14 : <<include>>
UC14 ..> UC15 : <<include>>
UC15 ..> UC16 : <<include>>

@enduml
```

---

## 2Ô∏è‚É£ Diagramme de Cas d'Utilisation - Technique

```mermaid
@startuml
!theme cerulean-outline

left to right direction

actor "üåê Navigateur" as Browser
actor "‚öôÔ∏è Serveur API" as Server
actor "üóÑÔ∏è Base de Donn√©es" as Database
actor "‚òÅÔ∏è CDN" as CDN

package "Frontend - Interface Client" {
  usecase "Charger interface HTML5" as TC1
  usecase "Initialiser composants CSS" as TC2
  usecase "G√©rer √©v√©nements DOM" as TC3
  usecase "Valider formulaires" as TC4
  usecase "Animer transitions" as TC5
  usecase "G√©rer responsive design" as TC6
}

package "Backend - Logique Serveur" {
  usecase "Authentifier connexions" as TC7
  usecase "Valider donn√©es serveur" as TC8
  usecase "Ex√©cuter requ√™tes SQL" as TC9
  usecase "G√©rer transactions" as TC10
  usecase "Maintenir WebSocket" as TC11
  usecase "Optimiser performances" as TC12
}

package "Infrastructure - D√©ploiement" {
  usecase "Builder application" as TC13
  usecase "Minifier assets" as TC14
  usecase "D√©ployer sur CDN" as TC15
  usecase "Servir fichiers statiques" as TC16
  usecase "G√©rer cache navigateur" as TC17
  usecase "Monitorer disponibilit√©" as TC18
}

package "Persistance - Donn√©es" {
  usecase "Cr√©er sch√©ma PostgreSQL" as TC19
  usecase "Indexer requ√™tes" as TC20
  usecase "Backup automatique" as TC21
  usecase "Nettoyer donn√©es expir√©es" as TC22
  usecase "Chiffrer donn√©es sensibles" as TC23
  usecase "Auditer acc√®s" as TC24
}

Browser --> TC1
Browser --> TC2
Browser --> TC3
Browser --> TC4
Browser --> TC5
Browser --> TC6

Server --> TC7
Server --> TC8
Server --> TC9
Server --> TC10
Server --> TC11
Server --> TC12

CDN --> TC13
CDN --> TC14
CDN --> TC15
CDN --> TC16
CDN --> TC17
CDN --> TC18

Database --> TC19
Database --> TC20
Database --> TC21
Database --> TC22
Database --> TC23
Database --> TC24

TC3 ..> TC8 : <<include>>
TC8 ..> TC9 : <<include>>
TC9 ..> TC11 : <<include>>
TC13 ..> TC15 : <<include>>

@enduml
```

---

## 3Ô∏è‚É£ Diagramme de Composants

```mermaid
@startuml
!theme cerulean-outline

package "Couche Pr√©sentation" {
  [üì± Interface Utilisateur] as UI
  [üìù Composant Formulaire] as Form
  [üìä Feed Temps R√©el] as Feed
  [üìà Tableau de Bord] as Dashboard
  [üíª G√©n√©rateur Code] as CodeDisplay
  [üîß Composants Modaux] as Modal
}

package "Couche Logique M√©tier" {
  [üéØ Contr√¥leur Application] as AppController
  [‚úÖ Service Validation] as Validator
  [‚öôÔ∏è Moteur G√©n√©ration Code] as CodeEngine
  [üìä Service Statistiques] as StatService
  [üîÑ Gestionnaire √âv√©nements] as EventManager
  [üõ°Ô∏è Service S√©curit√©] as SecurityService
}

package "Couche Acc√®s Donn√©es" {
  [üíæ Gestionnaire Stockage] as StorageManager
  [üåê Client API REST] as ApiClient
  [‚ö° Gestionnaire Cache] as CacheManager
  [üîÑ Service Synchronisation] as SyncService
  [üì° Client WebSocket] as WebSocketClient
}

package "Services Externes" {
  [üóÉÔ∏è Supabase Database] as Supabase
  [üêô GitHub Pages] as GitHubPages
  [üîå Serveur WebSocket] as WSServer
  [üìä Service Analytics] as Analytics
}

package "Utilitaires Transversaux" {
  [üîß Fonctions Utilitaires] as Utils
  [üìÖ Helper Dates] as DateHelper
  [üìù Service Formatage] as Formatter
  [üìã Service Logging] as Logger
  [üîí Helper Cryptographie] as CryptoHelper
}

' Relations Pr√©sentation
UI --> Form
UI --> Feed
UI --> Dashboard
UI --> Modal
Form --> CodeDisplay

' Relations Logique M√©tier
Form --> AppController
Feed --> AppController
Dashboard --> AppController

AppController --> Validator
AppController --> CodeEngine
AppController --> StatService
AppController --> EventManager
AppController --> SecurityService

' Relations Donn√©es
AppController --> StorageManager
AppController --> ApiClient
AppController --> CacheManager

ApiClient --> SyncService
SyncService --> WebSocketClient
StorageManager --> CacheManager

' Relations Services Externes
ApiClient --> Supabase
WebSocketClient --> WSServer
GitHubPages --> UI
StatService --> Analytics

' Relations Utilitaires
Validator --> Utils
CodeEngine --> Formatter
StatService --> DateHelper
EventManager --> Logger
SecurityService --> CryptoHelper

' Interfaces
interface "IValidator" as IVal
interface "ICodeGenerator" as ICodeGen
interface "IStorage" as IStorage
interface "IApiClient" as IApi

Validator .up.|> IVal
CodeEngine .up.|> ICodeGen
StorageManager .up.|> IStorage
ApiClient .up.|> IApi

@enduml
```

---

## 4Ô∏è‚É£ Diagramme de S√©quence - Sc√©nario Principal

```mermaid
@startuml
!theme cerulean-outline

participant "üë®‚Äçüéì √âtudiant" as Student
participant "üì± Interface Web" as UI
participant "üéØ Contr√¥leur App" as Controller
participant "‚úÖ Validateur" as Validator
participant "üíª G√©n√©rateur Code" as CodeGen
participant "üåê Client API" as ApiClient
participant "üóÑÔ∏è Base Supabase" as Database
participant "üîå WebSocket" as WebSocket
participant "üìä Service Stats" as StatsService

== Phase Initialisation ==

Student -> UI : Acc√®de √† l'application
activate UI

UI -> Controller : initializeApp()
activate Controller

Controller -> ApiClient : loadRecentEntries()
activate ApiClient

ApiClient -> Database : SELECT * FROM moods\nORDER BY created_at DESC\nLIMIT 10
activate Database
Database --> ApiClient : List<MoodEntry>
deactivate Database

ApiClient --> Controller : recentEntries
deactivate ApiClient

Controller -> StatsService : calculateStats(recentEntries)
activate StatsService
StatsService --> Controller : Statistics
deactivate StatsService

Controller --> UI : displayInitialData(entries, stats)
UI --> Student : Page charg√©e avec donn√©es
deactivate Controller

== Phase Saisie Utilisateur ==

Student -> UI : Saisit informations personnelles
Student -> UI : S√©lectionne emoji humeur
Student -> UI : Choisit langage programmation
Student -> UI : D√©finit domaine d'int√©r√™t
Student -> UI : Ajoute commentaire (optionnel)
Student -> UI : Clique "Partager humeur"

== Phase Validation et Traitement ==

UI -> Controller : submitMoodEntry(formData)
activate Controller

Controller -> Validator : validateMoodData(formData)
activate Validator

alt Donn√©es invalides
    Validator --> Controller : ValidationError
    Controller --> UI : displayValidationErrors()
    UI --> Student : "Veuillez corriger les erreurs"
else Donn√©es valides
    Validator --> Controller : ValidationSuccess
    deactivate Validator
    
    == Phase G√©n√©ration Code ==
    
    Controller -> CodeGen : generateCode(formData)
    activate CodeGen
    
    CodeGen -> CodeGen : selectTemplate(language)
    CodeGen -> CodeGen : injectUserData(template, data)
    CodeGen --> Controller : generatedCode
    deactivate CodeGen
    
    Controller --> UI : displayGeneratedCode(code)
    UI --> Student : Affiche code personnalis√©
    
    == Phase Sauvegarde ==
    
    Controller -> ApiClient : saveMoodEntry(moodEntry)
    activate ApiClient
    
    ApiClient -> Database : INSERT INTO moods\n(name, mood, language, interest, comment, created_at)\nVALUES (?, ?, ?, ?, ?, NOW())
    activate Database
    Database --> ApiClient : insertedId
    deactivate Database
    
    ApiClient --> Controller : saveSuccess(entryId)
    deactivate ApiClient
    
    == Phase Notification Temps R√©el ==
    
    Database -> WebSocket : triggerRealtimeNotification(newEntry)
    activate WebSocket
    
    par Notification broadcast
        WebSocket -> UI : broadcastNewEntry(entry)
        UI -> UI : updateFeedDisplay()
        UI -> StatsService : updateStatistics()
        activate StatsService
        StatsService --> UI : updatedStats
        deactivate StatsService
        UI --> Student : Affichage mis √† jour temps r√©el
    and Confirmation locale
        Controller --> UI : showSuccessMessage()
        UI -> UI : resetForm()
        UI --> Student : "Humeur partag√©e avec succ√®s! üéâ"
    end
    
    deactivate WebSocket
end

deactivate Controller
deactivate UI

== Gestion d'Erreurs ==

opt Erreur r√©seau
    ApiClient -X Database : √âchec connexion
    ApiClient --> Controller : NetworkError
    Controller --> UI : enableOfflineMode()
    UI --> Student : "Mode hors ligne activ√©"
end

opt Erreur serveur
    Database -X ApiClient : Erreur SQL
    ApiClient --> Controller : ServerError
    Controller --> UI : displayErrorMessage()
    UI --> Student : "Erreur temporaire, veuillez r√©essayer"
end

@enduml
```

---

## üìö Annexes

### **Technologies Utilis√©es**
- **Frontend** : HTML5, CSS3, JavaScript ES6+
- **Backend** : Supabase (PostgreSQL + API REST)
- **D√©ploiement** : GitHub Pages + GitHub Actions
- **Temps R√©el** : WebSocket natif

### **Patterns Architecturaux**
- **MVC** : S√©paration Mod√®le-Vue-Contr√¥leur
- **Observer** : Notifications temps r√©el
- **Strategy** : G√©n√©ration de code selon langage
- **Repository** : Abstraction acc√®s donn√©es

### **Principes de Conception**
- **Single Responsibility** : Chaque composant a une responsabilit√© unique
- **Open/Closed** : Extension sans modification
- **Dependency Injection** : Faible couplage entre composants
- **Interface Segregation** : Interfaces sp√©cialis√©es

### **M√©triques Qualit√©**
- **Couverture de tests** : > 80%
- **Performance** : < 2s temps de chargement
- **Accessibilit√©** : WCAG 2.1 AA
- **S√©curit√©** : Validation c√¥t√© client et serveur

---

**üìù Document g√©n√©r√© le :** `2025-09-15`  
**üîÑ Version :** `1.0`  
**üë®‚Äçüíª Auteur :** Assistant IA  
**üéØ Contexte :** Formation d√©veloppement web
